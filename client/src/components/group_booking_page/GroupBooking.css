/**
 * @file GroupBooking.css
 * @description Styles for the Group Appointment Booking page.
 * @version 1.1.0
 * @author Rex Yu/Auric LLC
 *
 * This stylesheet covers the primary layout, form elements, service menu,
 * and responsive behavior for both mobile and desktop views. It uses a modern
 * CSS Grid approach for a fluid, multi-column menu on larger screens.
 */

/* ===============================
  Appointment Booking Layout
  - Defines the main page structure for desktop (side-by-side) and mobile (stacked).
  =============================== */
.appointment-booking-layout {
    /* The root container for the entire booking interface. */
    display: flex;
    flex-direction: row;
    /* Default to side-by-side for desktop. */
    width: 100%;
    height: 100%;
    position: relative;
    /* Establishes a positioning context for child elements. */
}

.appointment-booking-menu {
    /* The left-hand container for the service menu. */
    flex: 3;
    /* Takes up 3/4 of the available space on desktop. */
    padding: 1rem;
    overflow-y: auto;
    /* Allows scrolling if the menu content is long. */
}

.appointment-booking-form {
    /* The right-hand container for the appointment details form. */
    flex: 1;
    /* Takes up 1/4 of the available space on desktop. */
    padding: 1rem;
    transition: transform 0.3s ease;
    /* Smooth transition for the mobile slide-up effect. */
    padding-bottom: 180px;
    /* Extra padding at the bottom to avoid content being hidden by floating buttons on mobile. */
}

/* ===============================
  Floating Buttons (Mobile Only)
  - Circular "Next/Back" buttons for mobile navigation.
  =============================== */
.appointment-booking-handle {
    position: fixed;
    /* Stays in a fixed position in the viewport during scroll. */
    bottom: 1.5rem;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    /* Creates a circle shape. */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: #fff;
    cursor: pointer;
    z-index: 1100;
    /* Ensures buttons appear above other content. */
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s ease, background-color 0.2s ease, width 0.2s ease, height 0.2s ease;
    /* Smooth hover effects. */
}

.appointment-booking-handle.right {
    right: 1.5rem;
    background-color: #007bff;
}

.appointment-booking-handle.right:hover {
    background-color: #0056b3;
    /* Enlarge button on hover for better user feedback. */
    width: 80px;
    height: 80px;
}

.appointment-booking-handle.left {
    left: 1.5rem;
    background-color: #6b7280;
}

.appointment-booking-handle.left:hover {
    background-color: #4b5563;
    width: 80px;
    height: 80px;
}

/* ===============================
  New Appointment Form
  - Styles for the form card and its input fields.
  =============================== */
.group-appt-form {
    /* The main "card" for the appointment details. */
    max-width: 36rem;
    margin-left: auto;
    margin-right: auto;
    padding: 1.5rem;
    box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
    /* Soft shadow for depth. */
    border-radius: 0.75rem;
    background-color: #faf3e0;
    position: relative;
}

.group-appt-form h2 {
    font-size: 1.5rem;
    font-weight: 700;
    margin-bottom: 1rem;
}

.group-appt-form-grid {
    /* A grid container for the form's input fields. */
    display: grid;
    grid-template-columns: 1fr;
    /* Default to a single column on mobile. */
    gap: 1rem;
}

.group-appt-input {
    /* General styling for text inputs. */
    border: 1px solid #ccc;
    border-radius: 0.375rem;
    padding: 0.5rem;
    width: 100%;
}

.read-only-input {
    /* Style for inputs that display data but can't be edited. */
    background-color: #f5f5f5;
    color: #555;
    cursor: not-allowed;
}

.group-appt-services {
    /* Container for the list of selected services. */
    margin-top: 1.5rem;
}

.group-appt-services label {
    font-weight: 600;
    display: block;
    margin-bottom: 0.5rem;
}

.group-appt-services-list {
    list-style-type: disc;
    padding-left: 1.25rem;
    color: #374151;
}

.group-appt-submit-btn {
    /* The main call-to-action button. */
    background-color: #059669;
    color: white;
    padding: 0.5rem 1.5rem;
    border-radius: 0.375rem;
    transition: background-color 0.3s ease;
    border: none;
    cursor: pointer;
}

.group-appt-submit-btn:hover {
    background-color: #047857;
}

.group-appt-submit-btn:disabled {
    /* Visual state for when the form is invalid or submitting. */
    background-color: #ccc;
    cursor: not-allowed;
    opacity: 0.6;
}

.group-appt-loading-overlay {
    /* A full-screen overlay shown during form submission. */
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(255, 255, 255, 0.7);
    z-index: 9999;
    /* Highest z-index to cover all content. */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: bold;
    color: #333;
}

/* ===============================
  Nail Salon Menu (Component-Specific)
  - Scoped styles for the service menu (prefixed with 'gb-menu-').
  =============================== */
.gb-menu-page-container {
    /* A wrapper to center the menu content on the page. */
    display: flex;
    justify-content: center;
    width: 100%;
}

.gb-menu-container {
    /* The main container for all service sections. Becomes a grid on desktop. */
    display: flex;
    /* Fallback and mobile default. */
    flex-direction: row;
    flex-wrap: wrap;
    max-width: 1200px;
    width: 100%;
    padding: 2rem;
    background-color: #f9f9f9;
    color: #333;
    font-family: 'Arial', sans-serif;
    box-sizing: border-box;
}

.gb-menu-section {
    /* A container for a single service category (e.g., "Manicures"). */
    width: 100%;
    /* Default width for mobile (stacked). Overridden by grid on desktop. */
    margin-bottom: 2rem;
    text-align: left;
}

.gb-menu-category {
    /* The title for a service category. */
    font-family: "Didot", Georgia, serif;
    font-weight: bold;
    font-size: 1.5rem;
    color: #d6336c;
    margin-bottom: 0.5rem;
    border-bottom: 2px solid #d6336c;
    padding-bottom: 0.2rem;
}

.gb-menu-table {
    /* The table listing the services within a category. */
    width: 100%;
    border-collapse: collapse;
    margin-top: 0.5rem;
    font-family: "Optima", Arial;
}

.gb-menu-table tbody tr {
    border-bottom: 1px solid #e9ecef;
}

.gb-menu-table tbody tr:last-child {
    border-bottom: none;
}

.gb-menu-item-row {
    cursor: pointer;
    background-color: transparent;
}

.gb-menu-item-row.selected {
    /* This class is added via JavaScript to indicate a selected service. */
    background-color: #d0f0d8 !important;
}

.gb-menu-item-row:hover .gb-menu-item-name,
.gb-menu-item-row:hover .gb-menu-item-price {
    color: #d6336c;
    font-weight: 600;
}

.gb-menu-item-name,
.gb-menu-item-price {
    padding: 0.5rem 1rem;
}

.gb-menu-item-name {
    text-align: left;
}

.gb-menu-item-price {
    text-align: right;
    color: #d6336c;
    font-weight: 500;
}

.gb-menu-loading,
.gb-menu-error {
    /* Styles for the loading and error states of the menu. */
    font-size: 1.2rem;
    color: #6c757d;
    text-align: center;
    margin-top: 2rem;
}

/* ===============================
  Shared Responsive Styles
  - Contains media queries to adapt the layout for different screen sizes.
  =============================== */

/*
 * MOBILE & TABLET PORTRAIT (< 768px)
 * - Stacks the layout vertically.
 * - The form becomes a slide-up "bottom sheet".
 */
@media screen and (max-width: 768px) {
    .appointment-booking-layout {
        flex-direction: column;
        /* Stack menu and form vertically. */
    }

    .appointment-booking-form {
        /* Transform the form into a "drawer" that slides from the bottom. */
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: 100%;
        z-index: 1000;
        background-color: transparent;
        /* The .group-appt-form provides the actual background. */
        border-top-left-radius: 1rem;
        border-top-right-radius: 1rem;
        overflow-y: auto;
        padding: 1rem;
        padding-bottom: 180px;
        transform: translateY(100%);
        /* Initially hidden off-screen at the bottom. */
    }

    /* The '.show' class is toggled by JS to slide the form into view. */
    .appointment-booking-form.show {
        transform: translateY(0);
    }

    /* The '.hide' class can be used for explicit hiding animations. */
    .appointment-booking-form.hide {
        transform: translateY(100%);
    }

    .group-appt-submit-btn {
        width: 65%;
        display: block;
        margin: 1rem auto 0;
    }

    .gb-menu-container {
        padding: 1rem;
        display: block;
        /* Revert from flex/grid to simple block for vertical stacking. */
    }
}

/*
 * LARGER TABLETS (>= 768px)
 * - Minor adjustments for wider screens.
 */
@media screen and (min-width: 768px) {
    .group-appt-form-grid {
        /* Switch the form inputs to a two-column layout. */
        grid-template-columns: repeat(2, 1fr);
    }

    .hide-on-desktop {
        /* A utility class to hide elements only on larger screens. */
        display: none;
    }
}

/*
 * DESKTOP LAYOUT (>= 769px)
 * - Activates the side-by-side view and the automatic grid menu.
 */
@media screen and (min-width: 769px) {
    .appointment-booking-handle {
        /* Hide mobile-only floating buttons. */
        display: none;
    }

    .appointment-booking-form.show,
    .appointment-booking-form.hide {
        /* Reset the mobile transform, locking the form in its flex container. */
        transform: none;
    }

    .gb-menu-container {
        /* Convert the menu container to a CSS Grid layout. */
        display: grid;
        /* * This is the core of the responsive column layout.
     * - `repeat(auto-fit, ...)`: Create as many columns as can fit.
     * - `minmax(200px, 1fr)`: Each column must be at least 200px wide,
     * but can grow to fill any extra space (1fr).
     * This automatically handles 2, 3, 4, etc., columns without more media queries.
     */
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 2rem;
        /* Consistent spacing between all grid items. */
    }

    .gb-menu-section {
        /* The grid container now controls the width, so we reset it. */
        width: auto;
        /* The `gap` property handles spacing, so we remove the margin. */
        margin-bottom: 0;
    }
}